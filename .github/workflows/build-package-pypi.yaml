name: Publish package [PyPI]

on:
  workflow_dispatch:

  release:
    types: [ published ]

permissions: read-all

jobs:
  build:
    uses: ./.github/workflows/build-package.yaml
    with:
      enable_dev_dependencies: 0
      runner: ubuntu-latest
    permissions:
      packages: write
      contents: write
      id-token: write