name: Publish package [TestPyPI]

on:
  workflow_dispatch:

  release:
    types: [published]

permissions:
  contents: read

jobs:
  build:
    uses: ./.github/workflows/build-package.yaml
    with:
      enable_dev_dependencies: 1
      runner: ubuntu-latest
      permissions:
        packages: write
        contents: write
        id-token: write
